<UserControl x:Class="ComponentArt.Win.Demos.MenuXMLExpandoItems"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ComponentArt="clr-namespace:ComponentArt.Win.UI.Navigation;assembly=ComponentArt.Win.UI.Navigation"
    xmlns:ComponentArtCommon="clr-namespace:ComponentArt.Win.UI.Utils;assembly=ComponentArt.Win.UI.Common"
    xmlns:toolkit="clr-namespace:Microsoft.Windows.Controls;assembly=WPFToolkit"             
    Width="760" Height="450">
    <Grid x:Name="LayoutRoot" VerticalAlignment="Top">
    	<TextBlock x:Name="DemoCategory" Visibility="Collapsed" Text="Menu" />
        <TextBlock x:Name="DemoTitle" Visibility="Collapsed" Text="Menu Expando Items." />
        <TextBlock x:Name="DemoDescription" Visibility="Collapsed" Text="Re-use a single CustomTemplate with different data." />
        <TextBlock 
            x:Name="DemoCodeFiles" 
            Visibility = "Collapsed"
            Text="\source\controls\menu\MenuXMLExpandoItems.xaml,
            \source\controls\menu\MenuXMLExpandoItems.xaml.cs,
            \clientbin\controls\menu\xml\MenuExpandoDemo.xml"/>
        <ComponentArt:Menu 
            x:Name="MyMenu" 
            Width="730" 
            HorizontalAlignment="Left" 
            VerticalAlignment="Top"
            MenuClick="MyMenu_MenuClick"
            Initialized="MyMenu_Initialized"            
            XmlBindingSource="/ComponentArt.Win.Demos;component/Assets/Menu/xml/MenuExpandoDemo.xml"
            CustomAttributeMapping="demoAttributeMap"
            CustomNodeMapping="demoNodeMap">
            <ComponentArt:Menu.Resources>
                <ComponentArtCommon:CustomAttributeMappingCollection x:Key="demoAttributeMap">
                    <ComponentArtCommon:AttributeMap From="separator" To="IsSeparator"/>
                    <ComponentArtCommon:AttributeMap From="icon" To="IconSource"/>
                    <ComponentArtCommon:AttributeMap From="label" To="Text"/>
                    <ComponentArtCommon:AttributeMap From="template" To="CustomTemplate"/>
                    <ComponentArtCommon:AttributeMap From="checked" To="IsChecked"/>
                    <ComponentArtCommon:AttributeMap From="radio" To="InRadioGroup"/>
                    <ComponentArtCommon:AttributeMap From="checkbox" To="IsCheckable"/>
                    <ComponentArtCommon:AttributeMap From="expander" To="ExpandTemplateUsing"/>
                    <ComponentArtCommon:AttributeMap From="treatAsButton" To="CustomTemplateHighlight"/>
                </ComponentArtCommon:CustomAttributeMappingCollection>
                <ComponentArtCommon:CustomNodeMappingCollection x:Key="demoNodeMap">
                    <ComponentArtCommon:NodeMap From="menu" To="ComponentArt.Win.UI.Navigation.Menu"/>
                    <ComponentArtCommon:NodeMap From="item" To="ComponentArt.Win.UI.Navigation.MenuItem"/>
                    <ComponentArtCommon:NodeMap From="calendar" To="ComponentArt.Win.UI.Navigation.MenuItem,CustomTemplate=myCalendar"/>
                    <ComponentArtCommon:NodeMap From="client_templates" To="ComponentArt.Win.Navigation.UI.MenuItem,CustomTemplate=ClientTemplates"/>
                    <ComponentArtCommon:NodeMap From="separator" To="ComponentArt.Win.UI.Navigation.MenuItem,IsSeparator=True"/>
                </ComponentArtCommon:CustomNodeMappingCollection>
                <DataTemplate x:Key="myCalendar">
                    <toolkit:Calendar x:Name="tkCalendar" Background="Transparent" BorderBrush="Transparent" Margin="24,0,0,0" ></toolkit:Calendar>
                </DataTemplate>
                <DataTemplate x:Key="ClientTemplates_Generic">
                    <Grid Height="47" 
                          VerticalAlignment="Top" 
                          Width="202.5" 
                          HorizontalAlignment="Right" 
                          Margin="22,0,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.310*"/>
                            <RowDefinition Height="0.340*"/>
                            <RowDefinition Height="0.340*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="37"/>
                            <ColumnDefinition Width="0.17*"/>
                            <ColumnDefinition Width="0.12*"/>
                            <ColumnDefinition Width="0.15*"/>
                            <ColumnDefinition Width="0.1*"/>
                        </Grid.ColumnDefinitions>
                        <Image Source="{Binding image}" Stretch="Fill" VerticalAlignment="Center" Height="47" Grid.RowSpan="3" HorizontalAlignment="Left"/>
                        <TextBlock Margin="3,0,0,0" TextWrapping="NoWrap" Grid.Column="1" Grid.ColumnSpan="4" FontWeight="Bold" FontFamily="Trebuchet MS" VerticalAlignment="Center" Foreground="#FF444444" FontSize="11" Text="{Binding title}"/>
                        <TextBlock Margin="3,0,0,0" VerticalAlignment="Center" FontFamily="Trebuchet MS" FontWeight="Normal" TextWrapping="NoWrap" Grid.Column="1" Grid.Row="1" Foreground="#FF444444" FontSize="11" Text="Top:"/>
                        <TextBlock Margin="3,0,0,0" TextWrapping="NoWrap" HorizontalAlignment="Stretch" Grid.Column="1" Grid.Row="2" FontWeight="Normal" FontFamily="Trebuchet MS" VerticalAlignment="Center" Foreground="#FF444444" FontSize="11" Text="Bottom:"/>
                        <TextBlock TextWrapping="NoWrap" VerticalAlignment="Center" Grid.Column="3" Grid.Row="1" FontWeight="Normal" FontFamily="Trebuchet MS" HorizontalAlignment="Left" Foreground="#FF444444" FontSize="11" Text="Right:"/>
                        <TextBlock TextWrapping="NoWrap" VerticalAlignment="Center" HorizontalAlignment="Left" Grid.Column="3" Grid.Row="2" FontWeight="Normal" FontFamily="Trebuchet MS" Foreground="#FF444444" FontSize="11" Text="Left:"/>
                        <TextBlock TextWrapping="NoWrap" VerticalAlignment="Center" Grid.Column="2" Grid.Row="1" HorizontalAlignment="Left" FontFamily="Trebuchet MS" FontWeight="Bold" FontSize="11" Text="{Binding top}"/>
                        <TextBlock TextWrapping="NoWrap" HorizontalAlignment="Stretch" Grid.Column="2" Grid.Row="2" VerticalAlignment="Center" FontFamily="Trebuchet MS" FontWeight="Bold" FontSize="11" Text="{Binding bottom}"/>
                        <TextBlock TextWrapping="NoWrap" VerticalAlignment="Center" Grid.Column="4" Grid.Row="1" HorizontalAlignment="Left" FontFamily="Trebuchet MS" FontWeight="Bold" FontSize="11" Text="{Binding right}"/>
                        <TextBlock TextWrapping="NoWrap" VerticalAlignment="Center" HorizontalAlignment="Left" Grid.Column="4" Grid.Row="2" FontFamily="Trebuchet MS" FontWeight="Bold" FontSize="11" Text="{Binding left}"/>
                    </Grid>
                </DataTemplate>
            </ComponentArt:Menu.Resources>
        </ComponentArt:Menu>
    </Grid>
</UserControl>
