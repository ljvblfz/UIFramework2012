@using ComponentArt.Web.UI

@{ 
  ViewData["DemoType"] = "DataGrid";
  ViewData["DemoTitle"] = "Live Scrolling";
  ViewData["CodeFiles"] = "/Views/DataGrid/ScrollerLive.aspx,/Controllers/DataGridController.cs";
  ViewData["AboutText"] = @"
    <ul>
  <li>By setting AllowVerticalScrolling to true, DataGrid pre-renders a tall area of rows inside a scrollable container.</li>
  </ul>
</ul>
";    
}

@section HeadContent {
  <link type="text/css" rel="stylesheet" href="../../Content/DataGrid/MessageBrowserContent/gridStyle.css" />
  <style type="text/css">
    .cart-datagrid-grouping-text
    {
      font-size: 10pt !important;
      font-weight: normal !important;
    }
    .cart-datagrid-pager-text
    {
      font-size: 10pt !important;
    }
    .cart-datagrid-pager-text a:link
    {
      color: #444;
    }
  </style>
  <link href="@Url.Content("~/Content/Themes/Office2010Blue/theme.css")" rel="stylesheet" type="text/css" />
}

@(Html
  .ComponentArt().DataGrid()
  .ID("Grid1")
  .Width(700)
  .Height(400)
  .AllowVerticalScrolling(true)
  .RunningMode(GridRunningMode.Client)
  .AutoTheming(true)
  .PageSize(200)
  .ShowFooter(false)
  .ImagesBaseUrl("~/Content/DataGrid/MessageBrowserContent/images/")
  .Levels(l =>
  {
    l.Add().Columns(c =>
    {
      c.Add().DataField("PriorityIcon").DataCellCssClass("FirstDataCell").SortedDataCellCssClass("SortedDataCell").Width(12).DataCellClientTemplateId("PriorityIconTemplate").HeadingCellCssClass("FirstHeadingCell").HeadingImageUrl("icon_priority.gif").FixedWidth(true);
      c.Add().DataField("EmailIcon").SortedDataCellCssClass("SortedDataCell").Width(20).DataCellClientTemplateId("EmailIconIconTemplate").HeadingImageUrl("icon_icon.gif").FixedWidth(true);
      c.Add().DataField("AttachmentIcon").SortedDataCellCssClass("SortedDataCell").Width(12).DataCellClientTemplateId("AttachmentIconTemplate").HeadingImageUrl("icon_attachment.gif").FixedWidth(true);
      c.Add().DataField("Subject").SortedDataCellCssClass("SortedDataCell").Width(300);
      c.Add().DataField("LastPostDate").HeadingText("Received").SortedDataCellCssClass("SortedDataCell");
      c.Add().DataField("StartedBy").SortedDataCellCssClass("SortedDataCell").Width(80);
      c.Add().DataField("TotalViews").SortedDataCellCssClass("SortedDataCell").Width(80);
      c.Add().DataField("FlagIcon").SortedDataCellCssClass("SortedDataCell").Width(20).DataCellClientTemplateId("FlagIconTemplate").HeadingImageUrl("icon_flag.gif").FixedWidth(true);
      c.Add().DataField("PostId").Visible(false);
    });
  })
  .ClientTemplates(ct =>
  {
    ct.Add().ID("PriorityIconTemplate").Content(@"
        <img src=""## get_root() ##/Content/DataGrid/MessageBrowserContent/images/## DataItem.GetMember('PriorityIcon').Value ##"" width=""8"" height=""10"" border=""0"">
          ");
    ct.Add().ID("EmailIconIconTemplate").Content(@"
        <img src=""## get_root() ##/Content/DataGrid/MessageBrowserContent/images/## DataItem.GetMember('EmailIcon').Value ##"" width=""20"" height=""15"" border=""0"">
        ");
    ct.Add().ID("AttachmentIconTemplate").Content(@"
        <img src=""## get_root() ##/Content/DataGrid/MessageBrowserContent/images/## DataItem.GetMember('AttachmentIcon').Value ##"" width=""8"" height=""10"" border=""0"">
");
    ct.Add().ID("FlagIconTemplate").Content(@"
        <img src=""## get_root() ##/Content/DataGrid/MessageBrowserContent/images/## DataItem.GetMember('FlagIcon').Value ##"" width=""12"" height=""12"" border=""0"">
");
  })
)
